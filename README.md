# PUBLIC SHELL REPOSITORY
> This is a public demonstration shell. Core logic is stripped.

# Polymarket Whale Alerts üêã

[üá∑üá∫ –†—É—Å—Å–∫–∏–π](#-—Ä—É—Å—Å–∫–∏–π) | [üá¨üáß English](#-english)

---

## üá∑üá∫ –†—É—Å—Å–∫–∏–π

Telegram-–±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ä—É–ø–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ ("–∫–∏—Ç–æ–≤") –Ω–∞ [Polymarket](https://polymarket.com) –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–¥–µ–ª–æ–∫** –æ—Ç $500 –¥–æ $100,000+
- üí∞ **–§–∏–ª—å—Ç—Ä –ø–æ —Å—É–º–º–µ** ‚Äî –≤—ã–±–µ—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥
- üìÇ **–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º** ‚Äî –ö—Ä–∏–ø—Ç–æ, –°–ø–æ—Ä—Ç, –û—Å—Ç–∞–ª—å–Ω–æ–µ
- ‚öñÔ∏è **–§–∏–ª—å—Ç—Ä –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏** ‚Äî –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–æ—á—Ç–∏ —Ä–µ—à—ë–Ω–Ω—ã–µ —Ä—ã–Ω–∫–∏ (99.9%)
- üîÑ **–§–∏–ª—å—Ç—Ä —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π** ‚Äî –≤—ã–±–∏—Ä–∞–π –∫–∞–∫–∏–µ —Å–¥–µ–ª–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å: BUY, SELL, SPLIT, MERGE, REDEEM
- üïê **–§–∏–ª—å—Ç—Ä –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫–æ—à–µ–ª—å–∫–∞** ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∫–æ—à–µ–ª—å–∫–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞ (–≤ –¥–Ω—è—Ö, –º–∏–Ω-–º–∞–∫—Å)
- üíº **–§–∏–ª—å—Ç—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–∑–∏—Ü–∏–π** ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–º–∏–Ω-–º–∞–∫—Å)
- üåê **–î–≤—É—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –†—É—Å—Å–∫–∏–π / English
- üîó **–°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å —Ç—Ä–µ–π–¥–µ—Ä–∞** –∏ —Ä—ã–Ω–æ–∫
- üìà **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** Open PnL, –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –≤–æ–∑—Ä–∞—Å—Ç –∫–æ—à–µ–ª—å–∫–∞
- ‚≠ê **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ —Å –∏—Ö —Ç–µ–∫—É—â–∏–º "—É—Ä–æ–≤–Ω–µ–º" (ü¶ê-üî•) + **üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞)
- üê¶ **Twitter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫—Ä—É–ø–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –≤ Twitter/X

### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—ä—ë–º–æ–≤

| –≠–º–æ–¥–∑–∏ | –£—Ä–æ–≤–µ–Ω—å | –°—É–º–º–∞ |
|--------|---------|-------|
| üî• | –ú–µ–≥–∞ –ö–∏—Ç | >$100,000 |
| ‚ö° | –°—É–ø–µ—Ä –ö–∏—Ç | >$50,000 |
| üêã | –ö–∏—Ç | >$25,000 |
| ü¶à | –ê–∫—É–ª–∞ | >$10,000 |
| üê¨ | –î–µ–ª—å—Ñ–∏–Ω | >$5,000 |
| üêü | –†—ã–±–∞ | >$2,000 |
| ü¶ê | –ö—Ä–µ–≤–µ—Ç–∫–∞ | >$500 |

### –ù–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞
–í –∫–∞–∂–¥–æ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- üìä **Open PnL**: –ù–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ –ø–æ –æ—Ç–∫—Ä—ã—Ç—ã–º –ø–æ–∑–∏—Ü–∏—è–º.
- üíº **Open Positions**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã—Ö (–Ω–µ –∑–∞–∫—Ä—ã—Ç—ã—Ö) –ø–æ–∑–∏—Ü–∏–π.
- üïê **Wallet Age**: –í–æ–∑—Ä–∞—Å—Ç –∫–æ—à–µ–ª—å–∫–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

#### –¢–æ—á–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∫–æ—à–µ–ª—å–∫–∞ (PolygonScan + Proxy)
Polymarket API —á–∞—Å—Ç–æ –æ–±—Ä–µ–∑–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–¥–µ–ª–æ–∫ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤. –ß—Ç–æ–±—ã –≤–æ–∑—Ä–∞—Å—Ç –æ–ø—Ä–µ–¥–µ–ª—è–ª—Å—è —Ç–æ—á–Ω–æ:
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º:** –ï—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –∫–æ—Ä–æ—Ç–∫–∞—è, –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –≤ PolygonScan (—Ç—Ä–µ–±—É–µ—Ç—Å—è API Key).
2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Proxy-–∫–æ—à–µ–ª—å–∫–æ–≤:** –ë–æ—Ç —É–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤–æ–∑—Ä–∞—Å—Ç –¥–∞–∂–µ –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ—à–µ–ª—å–∫–æ–≤ (Gnosis Safe / Proxy), –ø—Ä–æ–≤–µ—Ä—è—è –ø–µ—Ä–µ–≤–æ–¥—ã —Ç–æ–∫–µ–Ω–æ–≤ ERC20/ERC1155.
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù–∞–π–¥–µ–Ω–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ **7 –¥–Ω–µ–π**, —á—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å –ª–∏–º–∏—Ç—ã API.

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (PolymarketService)
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π **Polymarket Data API** (`data-api.polymarket.com`).
- **–ú–µ—Ç–æ–¥:** –ë–æ—Ç **–æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç (polling)** API –∫–∞–∂–¥—ã–µ **3 —Å–µ–∫—É–Ω–¥—ã**.
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ:** –ó–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–¥–µ–ª–∫–∏ —Ç–∏–ø–∞ `CASH` –Ω–∞ —Å—É–º–º—É –æ—Ç **$10** (—á—Ç–æ–±—ã –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –¥–∞–∂–µ –º–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏ –∫—Ä—É–ø–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤).

#### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –ê–≥—Ä–µ–≥–∞—Ü–∏—è (Aggregation)
–û–¥–Ω–∞ –∫—Ä—É–ø–Ω–∞—è —Å–¥–µ–ª–∫–∞ –Ω–∞ Polymarket —á–∞—Å—Ç–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ–ª–∫–∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–π (fills). –ß—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏, –±–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ —Å–µ—Ä–∏–∏.
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:** –°–¥–µ–ª–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ —Å–µ—Ä–∏—é, –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç:
  - –ö–æ—à–µ–ª–µ–∫ —Ç—Ä–µ–π–¥–µ—Ä–∞
  - –†—ã–Ω–æ–∫ (Condition ID)
  - –°—Ç–æ—Ä–æ–Ω–∞ (BUY/SELL/SPLIT/MERGE/REDEEM)
  - –ò—Å—Ö–æ–¥ (YES/NO/Outcome Index)
- **–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:** –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —Å–¥–µ–ª–æ–∫ Polymarket:
  - **BUY/SELL** ‚Äî –æ–±—ã—á–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏
  - **SPLIT** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ YES –∏ NO –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
  - **MERGE** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ YES –∏ NO –ø–æ–∑–∏—Ü–∏–π –æ–±—Ä–∞—Ç–Ω–æ –≤ USDC
  - **REDEEM** ‚Äî –≤—ã–∫—É–ø –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ —Ä—ã–Ω–∫–∞
- **–û–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏:** –°–¥–µ–ª–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ **60 —Å–µ–∫—É–Ω–¥** —Å –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏.
- **–ü–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è:** –ï—Å–ª–∏ —Å—É–º–º–∞ —Å–µ—Ä–∏–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç **$500**, –æ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–∏–º–æ–π –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –¢—è–∂–µ–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API (PnL, Pos, Age) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –µ—Å–ª–∏ —Å–¥–µ–ª–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å—Ç—Ä—ã —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### 3. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏ –•—Ä–∞–Ω–µ–Ω–∏–µ (Persistence)
–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ):
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ **SQLite** (`data/trades.db`), –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫.
- **–ö—ç—à:** –í –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–µ—Ä–∂–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10,000 —Å–¥–µ–ª–æ–∫ (LRU Cache).
- **–û—á–∏—Å—Ç–∫–∞:** –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ (—Å—Ç–∞—Ä—à–µ 72 —á–∞—Å–æ–≤) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –±–∞–∑—ã.

#### 4. Telegram –ë–æ—Ç (TelegramService)
–ë–æ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã:
  - **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞:** –æ—Ç $500 –¥–æ $100,000
  - **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** –ö—Ä–∏–ø—Ç–æ, –°–ø–æ—Ä—Ç, –û—Å—Ç–∞–ª—å–Ω–æ–µ (–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º)
  - **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –õ—é–±–∞—è, 1%-99%, 5%-95%, 10%-90%
  - **–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:** BUY, SELL, SPLIT, MERGE, REDEEM
  - **–í–æ–∑—Ä–∞—Å—Ç –∫–æ—à–µ–ª—å–∫–∞:** –§–∏–ª—å—Ç—Ä –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∫–æ—à–µ–ª—å–∫–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞ –≤ –¥–Ω—è—Ö (–º–∏–Ω-–º–∞–∫—Å –¥–∏–∞–ø–∞–∑–æ–Ω, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ). ‚ö†Ô∏è –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏.
  - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π:** –§–∏–ª—å—Ç—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–º–∏–Ω-–º–∞–∫—Å –¥–∏–∞–ø–∞–∑–æ–Ω, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ)
  - **–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π –∏–ª–∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
  - `‚öôÔ∏è –§–∏–ª—å—Ç—Ä—ã` ‚Äî –ø–æ–¥–º–µ–Ω—é —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
    - **–°—Ç—Ä–æ–∫–∞ 1:** `üí∞ –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏`, `üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏`, `‚öñÔ∏è –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å`
    - **–°—Ç—Ä–æ–∫–∞ 2:** `üîÑ –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π`, `üïê –í–æ–∑—Ä–∞—Å—Ç`, `üíº –ü–æ–∑–∏—Ü–∏–∏`
    - **–°—Ç—Ä–æ–∫–∞ 3:** `‚¨ÖÔ∏è –ù–∞–∑–∞–¥`
  - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ –ø–æ–∑–∏—Ü–∏–π:**
    - –í—ã–±–µ—Ä–∏—Ç–µ "üåê –õ—é–±–æ–π" –¥–ª—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
    - –ò–ª–∏ "üìù –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª" –¥–ª—è –≤–≤–æ–¥–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
    - –§–æ—Ä–º–∞—Ç: `–º–∏–Ω-–º–∞–∫—Å` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `7-365`), `–º–∏–Ω-` (–æ—Ç –º–∏–Ω–∏–º—É–º–∞), `-–º–∞–∫—Å` (–¥–æ –º–∞–∫—Å–∏–º—É–º–∞), –∏–ª–∏ `0` (—Å–±—Ä–æ—Å–∏—Ç—å)
  - `‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å / ‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - `‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ü—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å:
  - –≠–º–æ–¥–∑–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (üí∞, ‚öΩ, üìå) –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ä—ã–Ω–∫–∞
  - –¢–∏–ø–æ–º —Å–¥–µ–ª–∫–∏ (BUY/SELL/SPLIT/MERGE/REDEEM) —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏:
    - üü¢ BUY Yes, üî¥ BUY No, üîµ SELL, ‚ö™ SPLIT, ‚ÜîÔ∏è MERGE, üü£ REDEEM
  - –°—É–º–º–æ–π —Å–¥–µ–ª–∫–∏ (–¥–ª—è —Å–µ—Ä–∏–π –ø–∏—à–µ—Ç "Series X fills")
  - –£—Ä–æ–≤–Ω–µ–º "–∫–∏—Ç–∞" –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (PnL, Pos, Age)

#### 5. –ö–æ–º–∞–Ω–¥—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ:**
- `/start` ‚Äî –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `/stop` ‚Äî –í–∫–ª/–í—ã–∫–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–∞–Ω–∞–ª–æ–≥ –∫–Ω–æ–ø–∫–∏ ‚ñ∂Ô∏è/‚è∏Ô∏è)
- `/filters` ‚Äî –ú–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `/saved` ‚Äî –°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–∏—Ç–æ–≤
- `/about` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- `/lang` ‚Äî –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ (üá¨üáß / üá∑üá∫)
- `/hide` ‚Äî –°–∫—Ä—ã—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –º–µ–Ω—é
- `/menu` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –º–µ–Ω—é

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤:**
- `/amount` ‚Äî –§–∏–ª—å—Ç—Ä —Å—É–º–º—ã
- `/categories` ‚Äî –§–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `/probability` ‚Äî –§–∏–ª—å—Ç—Ä –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
- `/sides` ‚Äî –§–∏–ª—å—Ç—Ä —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- `/age` ‚Äî –§–∏–ª—å—Ç—Ä –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫–æ—à–µ–ª—å–∫–∞
- `/positions` ‚Äî –§–∏–ª—å—Ç—Ä –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- `/back` ‚Äî –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

#### 6. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ "–ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ" (Saved Traders)
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ Telegram API:
1. **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–ª—é—á–∏ (Callback Data):**
   - Telegram –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç `callback_data` –¥–æ 64 –±–∞–π—Ç.
   - –ü–æ–ª–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –∫–æ—à–µ–ª—å–∫–æ–≤ (42 —Å–∏–º–≤–æ–ª–∞) + –ø—Ä–µ—Ñ–∏–∫—Å –∫–æ–º–∞–Ω–¥—ã —á–∞—Å—Ç–æ –ø—Ä–µ–≤—ã—à–∞—é—Ç –ª–∏–º–∏—Ç.
   - **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ `whale_keys`, –≥–¥–µ —Ö–µ—à `SHA1(wallet_address)[:10]` –º–∞–ø–∏—Ç—Å—è –Ω–∞ –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å. –í –∫–Ω–æ–ø–∫–∞—Ö –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏–π —Ö–µ—à.
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ (–∏–º—è, –∏–∫–æ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è) –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ë–î –≤ –º–æ–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–ø–∏—Å–∫–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Polymarket API.
3. **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (SQLite):**
   - `saved_whales`: –°–≤—è–∑—å `user_id` <-> `whale_id` + –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
   - `whale_keys`: –û–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–∞–¥—Ä–µ—Å, –∏–º—è, —É—Ä–æ–≤–µ–Ω—å).
4. **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Bell Feature):**
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (üîî) –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–µ—Ä–∞.
   - –¢–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è **–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç –æ–±—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã** (—Å—É–º–º–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å) –∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤—Å–µ–≥–¥–∞.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/ahdpe/PolymarketWhales.git
cd PolymarketWhales
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫–æ—à–µ–ª—å–∫–æ–≤)
POLYGONSCAN_API_KEY=your_polygonscan_key
# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è Twitter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET=your_twitter_api_secret
TWITTER_ACCESS_TOKEN=your_twitter_access_token
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret
```

–ó–∞–ø—É—Å–∫:
```bash
python main.py
```
> **–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–∞ —Ç–æ–ª—å–∫–æ **–æ–¥–Ω–∞** –∫–æ–ø–∏—è –±–æ—Ç–∞. –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –æ—à–∏–±–∫–∞–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

---

## üá¨üáß English

Telegram bot for real-time tracking of large trades ("whales") on [Polymarket](https://polymarket.com).

### Features

- üìä **Trade monitoring** from $500 to $100,000+
- üí∞ **Amount filter** ‚Äî choose minimum threshold
- üìÇ **Category filter** ‚Äî Crypto, Sports, Other
- ‚öñÔ∏è **Probability filter** ‚Äî excludes near-resolved markets (99.9%)
- üîÑ **Event type filter** ‚Äî choose which trades to track: BUY, SELL, SPLIT, MERGE, REDEEM
- üïê **Wallet age filter** ‚Äî filter by trader wallet age (in days, min-max range)
- üíº **Open positions filter** ‚Äî filter by number of open positions (min-max range)
- üåê **Bilingual interface** ‚Äî Russian / English
- üîó **Links to trader profile** and market
- üìà **Advanced Analytics:** Open PnL, Active Positions, Wallet Age
- ‚≠ê **Favorites:** Save interesting traders with their current "level" (ü¶ê-üî•) + **üîî Notifications** (subscribe to specific trader)
- üê¶ **Twitter integration** ‚Äî automatic posting of large trades to Twitter/X

### Volume Classification

| Emoji | Level | Amount |
|-------|-------|--------|
| üî• | Mega Whale | >$100,000 |
| ‚ö° | Super Whale | >$50,000 |
| üêã | Whale | >$25,000 |
| ü¶à | Shark | >$10,000 |
| üê¨ | Dolphin | >$5,000 |
| üêü | Fish | >$2,000 |
| ü¶ê | Shrimp | >$500 |

### New Metrics & Data Accuracy

#### Trader Analytics
Every alert includes detailed stats:
- üìä **Open PnL**: Floating profit/loss on open positions.
- üíº **Open Positions**: Count and total value of active positions.
- üïê **Wallet Age**: Time since the very first activity.

#### Accurate Wallet Age (PolygonScan + Proxy)
Polymarket API often truncates activity history for high-frequency traders. For accuracy:
1. **Blockchain Integration:** If history seems short, the bot queries PolygonScan directly (requires API Key).
2. **Proxy Wallet Support:** Correctly identifies age even for Smart Wallets (Gnosis/Proxy) by checking ERC20/ERC1155 transfers.
3. **Caching:** Wallet age is cached for **7 days** to minimize API usage.

### How It Works

#### 7. Data Fetching (PolymarketService)
- **Source:** Uses public **Polymarket Data API** (`data-api.polymarket.com`).
- **Method:** Polls the API every **3 seconds**.
- **Input filtering:** Only `CASH` type trades from **$10** are requested.

#### 8. Processing and Aggregation
A single large trade is often split into multiple fills. To avoid spam, the bot groups them:
- **Grouping:** Same wallet, market, side (BUY/SELL/SPLIT/MERGE/REDEEM), outcome.
- **Event types:** The bot supports all Polymarket trade types:
  - **BUY/SELL** ‚Äî regular purchases and sales
  - **SPLIT** ‚Äî splitting a position into YES and NO simultaneously
  - **MERGE** ‚Äî merging YES and NO positions back into USDC
  - **REDEEM** ‚Äî redeeming positions when market resolves
- **Time window:** **60 seconds** aggregation window.
- **Trigger:** Series sum > **$500**.
- **Optimization:** Expensive API calls (PnL, Pos, Age) are deferred and only executed if the trade matches at least one active user's filters.

#### 9. Deduplication and Persistence
- **Database:** Local **SQLite** (`data/trades.db`) stores processed trade keys.
- **Cache:** 10,000 most recent trades in RAM.
- **Cleanup:** Records > 72h are deleted.

#### 10. Telegram Bot (TelegramService)
- **Filters:** Amount, Category, Probability, Event Types (BUY/SELL/SPLIT/MERGE/REDEEM), Wallet Age, Open Positions, Language.
- **Interface:** Compact menu with "‚öôÔ∏è Filters" submenu for all filter settings:
  - **Row 1:** Amount, Categories, Probability
  - **Row 2:** Event Types, Wallet Age, Open Positions
  - **Row 3:** Back
- **Filter Details:**
  - **Wallet Age:** Filter by trader wallet age in days (min-max range, default: unlimited). ‚ö†Ô∏è Beta mode - may have inaccuracies.
    - Format: `min-max` (e.g., `7-365`), `min-` (from minimum), `-max` (up to maximum), or `0` (reset)
  - **Open Positions:** Filter by number of open positions (min-max range, default: unlimited).
    - Format: `min-max` (e.g., `5-50`), `min-` (from minimum), `-max` (up to maximum), or `0` (reset)
- **Alerts:** Rich messages with emojis, links, and trader stats:
  - Color-coded trade types: üü¢ BUY Yes, üî¥ BUY No, üîµ SELL, ‚ö™ SPLIT, ‚ÜîÔ∏è MERGE, üü£ REDEEM

#### 11. Commands

**Main:**
- `/start` ‚Äî Start bot
- `/stop` ‚Äî Toggle alerts ON/OFF (same as ‚ñ∂Ô∏è/‚è∏Ô∏è button)
- `/filters` ‚Äî Filter settings menu
- `/saved` ‚Äî Saved whales list
- `/about` ‚Äî About bot info
- `/lang` ‚Äî Switch language (üá¨üáß / üá∑üá∫)
- `/hide` ‚Äî Hide menu keyboard
- `/menu` ‚Äî Show menu keyboard

**Filter Settings:**
- `/amount` ‚Äî Amount filter
- `/categories` ‚Äî Category filter
- `/probability` ‚Äî Probability filter
- `/sides` ‚Äî Event types filter
- `/age` ‚Äî Wallet age filter
- `/positions` ‚Äî Open positions filter
- `/back` ‚Äî Back to main menu

#### 12. Favorites Architecture (Saved Traders)
The saved traders implementation is optimized for Telegram API constraints:
1. **Compact Keys (Callback Data):**
   - Telegram limits `callback_data` to 64 bytes.
   - Full wallet addresses (42 chars) + action prefixes often exceed this limit.
   - **Solution:** We use a `whale_keys` table mapping `SHA1(wallet_address)[:10]` to the full address. Buttons only carry this short hash.
2. **Performance Optimization:**
   - Display data (name, level icon) is cached in the DB at the time of saving.
   - This allows instant list rendering without Polymarket API calls.
3. **Data Storage (SQLite):**
   - `saved_whales`: Maps `user_id` <-> `whale_id` + user comment.
   - `whale_keys`: Shared metadata table (address, name, level).
4. **Direct Notifications (Bell Feature):**
   - Toggle notifications (üîî) for specific saved traders.
   - These alerts **bypass general filters** (amount, category, probability) and are always delivered.

### Installation

```bash
git clone https://github.com/ahdpe/PolymarketWhales.git
cd PolymarketWhales
pip install -r requirements.txt
```

Create `.env` file:
```
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
# Optional (for accurate wallet age)
POLYGONSCAN_API_KEY=your_polygonscan_key
# Optional (for Twitter integration)
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET=your_twitter_api_secret
TWITTER_ACCESS_TOKEN=your_twitter_access_token
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret
```

Run:
```bash
python main.py
```
> **Important:** Ensure only **one** instance of the bot is running. Multiple instances will cause duplicate alerts and broken filtering.

---

## Tech Stack

- **Language:** Python 3.10+
- **Libraries:** aiogram, aiohttp, sqlite3
- **Config:** `.env` (tokens), `user_settings.json` (user preferences)

## License

MIT
