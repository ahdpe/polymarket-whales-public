# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ 3 —è–Ω–≤–∞—Ä—è 2026 / Update January 3, 2026

---

## üá∑üá∫ –†—É—Å—Å–∫–∏–π

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### üîΩ –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ –º–µ–Ω—é
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫—Ä—ã—Ç—å –º–µ–Ω—é –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- –ö–Ω–æ–ø–∫–∞ **"‚¨áÔ∏è –°–∫—Ä—ã—Ç—å –º–µ–Ω—é"** –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
- –ö–Ω–æ–ø–∫–∞ **"‚¨ÜÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é"** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ö–æ–º–∞–Ω–¥–∞ `/menu` –¥–ª—è –ø–æ–∫–∞–∑–∞ –º–µ–Ω—é –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –ú–µ–Ω—é —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

#### üé® –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
- –¢–µ–ø–µ—Ä—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ 3 —Ä—è–¥–∞ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫

#### ‚≠ê –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–∫–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ –≤ —Å–ø–∏—Å–∫–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–Ω–∞—á–æ–∫ —É—Ä–æ–≤–Ω—è (ü¶ê –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è)
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_whale_data_by_id()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ ID —Ç—Ä–µ–π–¥–µ—Ä–∞
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–∫–æ–≤ —É—Ä–æ–≤–Ω—è
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π –∫–ª—é—á–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–Ω–∞—á–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—è —É—Ä–æ–≤–Ω—é —Ç—Ä–µ–π–¥–µ—Ä–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_or_create_key()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–ª–ª–∏–∑–∏–π –∫–ª—é—á–µ–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `save()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é

---

## üá¨üáß English

### ‚ú® New Features

#### üîΩ Collapsible Menu
- Added ability to hide menu to save screen space
- **"‚¨áÔ∏è Hide Menu"** button in main menu
- **"‚¨ÜÔ∏è Show Menu"** button for quick restoration
- `/menu` command to show menu at any time
- Menu state persists between sessions

#### üé® Improved Button Layout
- Optimized button arrangement in main menu
- All buttons now arranged in 3 rows for better readability

### üêõ Bug Fixes

#### ‚≠ê Fixed Icon Display in Favorites
- **Issue:** Some traders in favorites list showed incorrect level icon (ü¶ê instead of actual level)
- **Cause:** Incorrect method of retrieving data from database when displaying list
- **Solution:**
  - Added `get_whale_data_by_id()` function for correct data retrieval by trader ID
  - Fixed logic for saving and displaying level icons
  - Improved key collision handling in database
- **Result:** All icons now display correctly, matching the trader's level at the time they were added to favorites

### üîß Technical Improvements

- Improved `get_or_create_key()` function for correct key collision handling
- Optimized `save()` function for automatic data retrieval from cache
- Added localization support for new menu buttons

---

## üìù –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π / Change Details

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã / Modified Files

- `services/telegram_service.py` - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ –º–µ–Ω—é –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ / Added collapsible menu and handlers
- `storage/saved_whales.py` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö / Fixed database logic
- `core/localization.py` - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ / Added new localization strings

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å / Backward Compatibility

‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è.

‚úÖ All changes are fully backward compatible. Existing data is not affected.

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å / How to Use

### –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–Ω—é / Collapsing Menu

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"‚¨áÔ∏è –°–∫—Ä—ã—Ç—å –º–µ–Ω—é"** –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
2. –ú–µ–Ω—é –∑–∞–º–µ–Ω–∏—Ç—Å—è –Ω–∞ –æ–¥–Ω—É –∫–Ω–æ–ø–∫—É **"‚¨ÜÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é"**
3. –ù–∞–∂–º–∏—Ç–µ **"‚¨ÜÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é"** —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª–Ω–æ–µ –º–µ–Ω—é
4. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/menu` –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

1. Press **"‚¨áÔ∏è Hide Menu"** button in main menu
2. Menu will be replaced with single **"‚¨ÜÔ∏è Show Menu"** button
3. Press **"‚¨ÜÔ∏è Show Menu"** to restore full menu
4. Or use `/menu` command at any time

---

*–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.*  
*Update applied automatically. Bot restart not required.*



